version: "3"

services:
  openems-edge:
    image: manoj1210/openems-edge:latest
    container_name: openems-edge
    hostname: openems-edge
    restart: unless-stopped
    volumes:
      - openems-edge:/var/opt/openems/config:rw
      - openems-edge:/var/opt/openems/data:rw
    ports:
      - 8080:8080 # Apache-Felix
      - 8085:8085 # UI-Websocket

  ui-edge:
    image: manoj1210/ui-edge:latest
    container_name: ui-edge
    hostname: ui-edge
    restart: unless-stopped
    volumes:
      - ui-edge-conf:/etc/nginx:rw
      - ui-edge-log:/var/log/nginx:rw
    ports:
      - 80:80
      - 443:443

volumes:
  openems-edge-conf:
  openems-edge-data:
  ui-edge-conf:
  ui-edge-log: